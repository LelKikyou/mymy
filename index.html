-<!DOCTYPE html>
 -<html lang="en">
 -<head>
 -    <meta charset="UTF-8">
 -    <title>随便改了改</title>
 -</head>
 -<style>
 -    *{margin: 0;padding: 0;}
 -    .canvas{width:500px;text-align:center;margin:40px auto;}
 -    .btn{
 -        width: 300px;
 -        height: 500px;
 -        background: red;
 -        margin-left:100px;
 -        float: left;
 -    }
 -    .btn1{
 -        width: 300px;
 -        height: 500px;
 -        background: yellow;
 -        margin-left:50px;
 -        float: left;
 -    }
 -    .btn2{
 -        width: 300px;
 -        height: 500px;
 -        background: blue;
 -        margin-left:20px;
 -        float: left;
 -    }
 -    p{
 -        width: 150px;
 -        height: 100px;
 -        margin-left:20px;
 -        float: left;
 -    }
 -</style>
 -<body>
 -<div class="canvas">
 -    <canvas width="300px" height="500px" style="background-color: #abcdef" id="canvas"></canvas>
 -</div>
 -<p>点击智障棍子会变长，点击sb棍子搭过去，搭到上面就加分</p>
 -<div class="btn">一群智障</div>
 -<div class="btn1">一群sb</div>
 -<div class="btn2">重新开始</div>
 -<script>
 -    var canvas=document.getElementById("canvas");
 -    var ctx=canvas.getContext("2d");
 -    //定义界面上的方块相应变量
 -    var j1x=0;j1y=0;j1w=60;
 -    //X坐标点，j1y:Y坐标点，j1w:宽度。默认宽度60
 -    var j2x=0;j2y=0;j2w=0;
 -    var j3x=0;j3y=0;j3w=0;
 -    var playx=0; playy=0;fenshu=0;//playx:X坐标点，palyy：Y坐标点，fenshu：得分数。
 -    //定义棍子相关变量
 -    var gunzix=0;gunziy=0;gunzic=0;//guanzix:X坐标点，gunziy:Y坐标点，gunzi_len:棍子的长度
 -    start();
 -    document.addEventListener("keydown",dokeydown);
 -    document.addEventListener("keyup",dokeyup);
 -    //第三步，初始化界面 start()方法
 -    function  start(){
 -        ctx.clearRect(0,0,300,500);
 -        j1x = 0,j1y = 0,j1w = 60;
 -        j2x = 0,j2y = 0,j2w = 0;
 -        j3x = 0,j3y = 0,j3w = 0;
 -        playx=40; playy=330;fenshu=0;
 -        gunzix=60;gunziy=330;gunzic=0;
 -        //画第一个方框,第一个方框是固定的，
 -        ctx.fillStyle="black";
 -        ctx.fillRect(j1x,350,j1w,150);
 -        //画第二个方框
 -        j2x=Math.floor(Math.random()*160+20)+j1x+j1w;
 -        j2w=Math.floor(Math.random()*60+20);
 -        ctx.fillRect(j2x,350,j2w,150);
 -        //画第三个方框
 -        j3x=Math.floor(Math.random()*160+20)+j2x+j2w;
 -        j3w=Math.floor(Math.random()*60+20);
 -        ctx.fillRect(j3x,350,j3w,150);
 -        //画小人
 -        ctx.fillStyle="blue";
 -        ctx.fillRect(playx,playy,20,20);
 -        huafenshu();
 -    }
 -    function huafenshu(){
 -        ctx.fillStyle="yellow";
 -        ctx.font="40px 宋体";
 -        ctx.fillText(fenshu,130,40)
 -    }
 -    function dokeydown(e) {
 -        var keyid=e.keyCode;//按下键位的键码值
 -        if(keyid==32){
 -            //当等于空格的时候
 -            ctx.strokeStyle="sienna";
 -            ctx.lineWidth=3;
 -            ctx.beginPath();
 -//            棍子的起始点就是小人的起始点分别加上宽高
 -            ctx.moveTo(playx+20,playy+20);
 -//            棍子的开头60,330;
 -            ctx.lineTo(gunzix,gunziy);
 -            ctx.stroke();
 -            gunziy-=5;
 -//            棍子的长
 -            gunzic=350-gunziy;
 -        }else if(keyid==13){
 -            start()
 -        }else {
 -
 -        }
 -    }
 -    function dokeyup(e){
 -        var keyid = e.keyCode;
 -        if (keyid ==32){
 -            gunziy = 350;
 -            ctx.strokeStyle = "sienna";
 -            ctx.lineWidth=3;
 -            ctx.beginPath();
 -            ctx.moveTo(playx+20,playy+20);
 -//            棍子移动到哪里
 -            ctx.lineTo(playx+20+gunzic,gunziy);
 -            ctx.closePath();
 -            ctx.stroke();
 -            ctx.beginPath();
 -            ctx.lineWidth=4;
 -//            用相同的颜色覆盖原本的棍子
 -            ctx.strokeStyle = "#abcdef";
 -            ctx.moveTo(playx+20,playy+20-2);
 -            ctx.lineTo(playx+20,350-gunzic);
 -            ctx.stroke();
 -            moveplay();
 -        }
 -    }
 -    function moveplay() {
 -        ctx.beginPath();
 -//        用相同的颜色覆盖前面一个小人
 -        ctx.fillStyle="#abcdef";
 -        ctx.fillRect(playx,playy,20,20);
 -        ctx.beginPath();
 -//        小人每次向右移动5
 -        ctx.fillStyle="blue";
 -        playx=playx+5;
 -        ctx.fillRect(playx,playy,20,20);
 -        if(playx<=(gunzic+j1w-20)){
 -//            移动小人到棍子最右边
 -            setTimeout(moveplay,30)
 -        }else {
 -            if ((gunzic + j1w) > j2x && ((j1w + gunzic) < (j2x + j2w))) {
 -//                吧小人移到第二个方框右边，判断他当时的位置有没有over
 -                ctx.beginPath();
 -                ctx.fillStyle = "#abcdef";
 -                ctx.fillRect(playx, playy, 20, 20);
 -                ctx.beginPath();
 -                ctx.fillStyle = "blue";
 -                playx = j2w + j2x - 20;
 -                ctx.fillRect(playx, playy, 20, 20);
 -                fenshu++;
 -                moveall();
 -            }else{
 -                gameover();
 -            }
 -        }
 -    }
 -    function moveall(){
 -        ctx.fillStyle = "#ABCDEF";
 -        ctx.fillRect(0,0,300,500);
 -        ctx.fillStyle = "black";
 -        j1x--;
 -        j2x--;
 -        j3x--;
 -        playx--;
 -        ctx.fillRect(j1x,350,j1w,150);
 -        ctx.fillRect(j2x,350,j2w,150);
 -        ctx.fillRect(j3x,350,j3w,150);
 -        ctx.fillStyle="blue";
 -        ctx.fillRect(playx,playy,20,20);
 -        huafenshu();
 -        if (j2x!=0) {
 -            setTimeout(moveall,1)
 -        }else{
 -            change();
 -        }
 -    }
 -    function change(){
 -        j1x=j2x;
 -        j1w=j2w;
 -        j2x=j3x;
 -        j2w=j3w;
 -        j3x=Math.floor(Math.random()*160+20)+j2x+j2w;
 -        j3w=Math.floor(Math.random()*60+20);
 -        gunzix=j1w;
 -    }
 -    function gameover(){
 -        ctx.fillStyle="#abcdef";
 -        ctx.fillRect(0,0,300,500);
 -        ctx.fillStyle="#fff";
 -        ctx.font="40px 宋体";
 -        ctx.fillText("得分"+fenshu,60,200);
 -        ctx.fillStyle="red";
 -        ctx.font="40px 宋体";
 -        ctx.fillText("GAME OVER",60,150);
 -        ctx.fillStyle="red";
 -        ctx.font="30px 宋体";
 -        ctx.fillText("Enter to play",60,250)
 -    }
 -    //    手机上
 -    var btn=document.querySelector(".btn");
 -    var btn1=document.querySelector(".btn1");
 -    var btn2=document.querySelector(".btn2");
 -    btn.onclick=zdokeydown;
 -    btn1.onclick=zdokeyup;
 -    btn2.onclick=start;
 -    function zdokeydown(e) {
 -
 -        //当等于空格的时候
 -        ctx.strokeStyle="sienna";
 -        ctx.lineWidth=3;
 -        ctx.beginPath();
 -//            棍子的起始点就是小人的起始点分别加上宽高
 -        ctx.moveTo(playx+20,playy+20);
 -//            棍子的开头60,330;
 -        ctx.lineTo(gunzix,gunziy);
 -        ctx.stroke();
 -        gunziy-=5;
 -//            棍子的长
 -        gunzic=350-gunziy;
 -    }
 -    function zdokeyup(e){
 -
 -        gunziy = 350;
 -        ctx.strokeStyle = "sienna";
 -        ctx.lineWidth=3;
 -        ctx.beginPath();
 -        ctx.moveTo(playx+20,playy+20);
 -//            棍子移动到哪里
 -        ctx.lineTo(playx+20+gunzic,gunziy);
 -        ctx.closePath();
 -        ctx.stroke();
 -        ctx.beginPath();
 -        ctx.lineWidth=4;
 -//            用相同的颜色覆盖原本的棍子
 -        ctx.strokeStyle = "#abcdef";
 -        ctx.moveTo(playx+20,playy+20-2);
 -        ctx.lineTo(playx+20,350-gunzic);
 -        ctx.stroke();
 -        moveplay();
 -
 -    }
  window.onclick=function (e) {
        stopDefault( e )
    };
    function stopDefault( e ) {
        //阻止默认浏览器动作(W3C)
        if ( e && e.preventDefault )
            e.preventDefault();
        //IE中阻止函数器默认动作的方式
        else
            window.event.returnValue = false;
        return false;
    }
 -</script>
 -</body>
 -</html>
